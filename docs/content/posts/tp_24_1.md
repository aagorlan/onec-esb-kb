---
title: "Кэширование настроек"
date: 2024-02-01
author: "aagorlan"
tags: ["ШД"]
description: "Реализация функций кеширования настроек узла КШД"
---

{{< toc >}}

## Общие принципы подключения узла

Кэширование настроек, полученных из репозитория позволяет обеспечить более быстрый и параллельный доступ к настройкам узла и КШД. Для обеспечения необходимо реализовать функции:

* Запись настройки в кэш по ключу
* Чтение настройки из кэша по ключу
* Очистка настроек кэша

## Запись настройки в кэш по ключу

**Особенности объекта управления, влияющие на проектные решения по функции**\
Настройка может быть представлена примитивным типом (строка, число, булево или дата) или сложным (любым сериализуемым) типом, должна обеспечиваться оптимальность хранения любых переданных настроек. Процедуру сохранения необходимо сделать универсальной, в том числе для хранения настроек в разрезе разных контуров.

**Входящие данные**\
Контур, Ключ, Значение

**Исходящие данные**\
Отсутствуют

**Исполнитель**\
Любой пользователь

**Описание реализуемых задач**\
Необходимо реализовать новый регистр для хранения настроек, для определения ключей настроек использовать перечисление. Реализовать хранение каждого типа в отдельном реквизите регистра.

## Чтение настройки из кэша по ключу

**Особенности объекта управления, влияющие на проектные решения по функции**\
Процедуру получения необходимо сделать универсальной, в том числе для хранения настроек в разрезе разных контуров.

**Входящие данные**\
Контур, Ключ

**Исходящие данные**\
Значение

**Исполнитель**\
Любой пользователь

**Описание реализуемых задач**\
Получение записи из регистра по ключу, в зависимости от типа значения возврат содержимого соответствующего реквизита.

## Очистка настроек кэша

**Особенности объекта управления, влияющие на проектные решения по функции**\
Процедуру очистки необходимо сделать универсальной, в том числе для очистки настроек в разрезе разных контуров.

**Входящие данные**\
Контур

**Исходящие данные**\
Отсутствуют

**Исполнитель**\
Регламентное задание проверки и обновления настроек

**Описание реализуемых задач**\
Удаляет все настройки по переданному контуру.
