---
title: "Общего назначения. НСИ"
date: 2023-07-20
---

{{< toc >}}

## Добавление нового контура

**Особенности объекта управления, влияющие на проектные решения по функции**
Наследование контуров.

**Входящие данные**
Отсутствуют

**Исходящие данные**
Ссылка на контур

**Исполнитель**
Архитектор интеграций

**Описание реализуемых задач**
Добавление в справочник "Контуры" новой записи. Контур добавляется с состоянием "Черновик". Использование контура возможно только в состоянии "В работе". Перевод из состояния одного в другое состояние выполняется через обработчики, список обработчиков возвращается функцией модуля менеджера через массив.
Переход между состояниями производится пользователем, на форму выводится контроль выполнения процедур перехода. Фиксация выполнения обработчиков выполняется в объекте контура. При открытии формы, производится анализ выполнения обработчиков предыдущего состояния, в случае обнаружения неисполненных обработчиков предыдущего состояния, выводится предложение вернуться на предыдущее состояние.

При записи нового элемента проверяется уникальность Наименования и комбинации репозитория и имени ветки.

Имя ветки и репозиторий доступны для редактирования в состоянии "Черновик".

Репозиторий наследуется по иерархии контуров, редактирование контура возможно только на верхнем уровне, при записи, если репозиторий был изменен, данные о репозитории обновляются у всех подчиненных элементов.

Реквизит "Есть потомки" обновляется регламентным заданием, реквизит используется для реализации разных алгоритмов работы с исходными и конечными контурами.

**Модель данных**
Справочник "Контуры" (новый)

Свойства: Иерархия элементов

Реквизиты
> Состояние (Черновик, В работе, На тестировании, В архиве)\
>Имя ветки контура\
>Репозиторий (Справочник репозитории Git)\
>Есть потомки
>Описание

Табличная часть "История обработчиков"
>Состояние\
>Обработчик\
>Дата выполнения
